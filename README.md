# Приложение для анализа банковских операций.

## Описание:

Приложение для анализа транзакций, которые находятся в Excel-файле. 
Приложение генерирует JSON-данные для веб-страниц, формирует Excel-отчеты, 
а также предоставляет другие сервисы.

## Использование:

Запускаете файл main.py, где затрагиваются все реализованные 
функции. По окончанию работы файла, появятся json-файлы с нужными
данными.

1. Функция main.py Главная функция. Запускает все остальные 
функции и выдает результат в json файлах.

### Пример работы функции 
    date_string = "11.07.2020 23:11:24"
    main_views(date_string) 
    df = read_xlsx(input_file="../data/operations.xlsx") 
    re_sort(df, "Колхоз") 
    spending_by_category(df, "Супермаркеты", "30.07.2021") # Входные аргументы

    возвращается результат в json-файлах: data/search_results.json,  data/report.json,
    data/filtered_operations.json

2. Функция main_views это основная функция, которая собирает все функции выше. 
    Она принимает на вход дату в формате dd.mm.yyyy hh:mm:ss и возвращает JSON 
    файл с данными о транзакциях, а также курс валют и стоимость акций.

### Пример работы функции 
    date_string = "20.11.2021 23:11:24"
    main_views(date_string) # Вызываем ее и передаем дату
    
    результат возвращается в json-файл: data/report.json и 
    data/filtered_operations.json

3. Функция re_sort читает DataFrame, ищет совпадения и записывает результат
    в JSON-файл.

### Пример работы функции 
    df = read_xlsx("../data/operations.xlsx")
    re_sort(df, "Супермаркеты") # вызываем функции и передаем датафрейм из xlsx файла
    
    результат возвращается в json-файл: data/search_results.json

4. Функция spending_by_category принимает на вход датафрейм, категорию и дату. 
    Возвращает JSON-файл с информацией о
    тратах в данной категории.

### Пример работы функции
    trans = read_xlsx("../data/operations.xlsx")
    spending_by_category(trans, "Супермаркеты", "30.11.2019") # Вызываем функцию и 
    передаем туда датафрейм из xlsx-файла, категорию и дату

    результат возвращается в json-файлах: report_decor.json

5. Модуль utils содержит в себе все функции, 
    которые читают либо сортируют файлы.
## Тестирование:

Процент покрытия тестами 85%.
Все 8 тестов проходят без проблем.
